<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>采访收集</title>
</head>
<body>

<h2>📌 采访收集</h2>

<h3>➕ 添加采访清单</h3>
<form action="/acquisition/collect/add" method="post">
    <p>题名：<input type="text" name="title" required></p>
    <p>作者：<input type="text" name="author" required></p>
    <p>ISBN：<input type="text" name="isbn" pattern="\d{13}" required></p>
    <p>出版社：<input type="text" name="publisher" required></p>
    <p>文献类型：<input type="text" name="docType" required></p>
    <button type="submit">加入清单</button>
</form>

<hr>

<h3>📋 采访清单</h3>
<div th:if="${#lists.isEmpty(acquisitionList)}">
    <p>暂无采访记录</p>
</div>

<table border="1" th:if="${!#lists.isEmpty(acquisitionList)}">
    <tr>
        <th>记录号</th>
        <th>题名</th>
        <th>作者</th>
        <th>ISBN</th>
        <th>出版社</th>
        <th>文献类型</th>
        <th>操作</th>
    </tr>
    <tr th:each="record : ${acquisitionList}">
        <td th:text="${record.purchasedId}"></td>
        <td th:text="${record.title}"></td>
        <td th:text="${record.author}"></td>
        <td th:text="${record.isbn}"></td>
        <td th:text="${record.publisher}"></td>
        <td th:text="${record.docType}"></td>
        <td>
            <a th:href="@{/acquisition/order(title=${record.title},author=${record.author},isbn=${record.isbn},publisher=${record.publisher},docType=${record.docType})}">
                去订购
            </a>
        </td>
    </tr>
</table>

<p><a href="/acquisition">返回采访管理首页</a></p>

</body>
</html>
