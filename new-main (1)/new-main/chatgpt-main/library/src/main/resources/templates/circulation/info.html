<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>图书流通信息查询</title>
    <style>
        .status-0 { color: #ff6600; }
        .status-1 { color: #009900; font-weight: bold; }
        .status-2 { color: #ff3366; font-weight: bold; }
        .empty { margin-top:20px; color: #999; font-size:16px; }
    </style>
    <link rel="stylesheet" href="/styles/app.css">
</head>
<body>
<div class="page-layout">
    <div th:replace="fragments/sidebar :: circulationMenu"></div>
    <main class="page-content">
<h2>图书流通信息查询</h2>
<hr>
<div th:if="${#lists.isEmpty(bookList)}" class="empty">暂无图书信息</div>
<table th:unless="${#lists.isEmpty(bookList)}">
    <tr>
        <<th width="15%">图书编号</</th>
        <<th width="25%">图书名称</</th>
        <<th width="20%">ISBN编号</</th>
        <<th width="20%">馆藏日期</</th>
        <<th width="20%">图书状态</</th>
    </tr>
    <tr th:each="book : ${bookList}">
        <td>[[${book.bookId}]]</td>
        <td>[[${book.title}]]</td>
        <td>[[${book.isbn}]]</td>
        <td>[[${#dates.format(book.catalogDate, 'yyyy-MM-dd')}]]</td>
        <td th:classappend="'status-'+${book.status}">
            <span th:if="${book.status == 0}">已借出</span>
            <span th:if="${book.status == 1}">可借阅</span>
            <span th:if="${book.status == 2}">已预约</span>
        </td>
    </tr>
</table>
<br>
<a href="/circulation">← 返回流通菜单</a> <!-- 修复路径：从/index改为/circulation -->
    </main>
</div>
</body>
</html>
